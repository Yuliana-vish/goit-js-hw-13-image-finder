{"version":3,"sources":["webpack:///./js/apiService.js","webpack:///./js/refs.js","webpack:///./js/notification.js","webpack:///./index.js","webpack:///./js/modal.js","webpack:///./template/imgList.hbs"],"names":["ApiService","this","searchQuery","page","fetchHits","request","fetch","response","json","newResponse","hits","incrementPage","resetPage","newQuery","refs","searchForm","document","querySelector","galleryList","input","scroll","defaultModules","set","PNotifyMobile","showNotification","alert","text","delay","hitsApiService","addHitsMarkup","data","insertAdjacentHTML","imageList","addEventListener","debounce","e","preventDefault","query","target","value","trim","innerHTML","then","dataset","basicLightbox","source","show","IntersectionObserver","entries","forEach","entry","isIntersecting","rootMargin","observe","Handlebars","module","exports","template","container","depth0","helpers","partials","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop"],"mappings":"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","file":"main.4808a8e94847d88c43e7.js","sourcesContent":["const API_KEY = '20386006-9675b11da888a7538d51ef351';\r\nconst BASE_URL = 'https://pixabay.com/api';\r\n\r\nexport default class ApiService {\r\n  constructor() {\r\n    this.searchQuery = '';\r\n    this.page = 1;\r\n  }\r\n\r\n  async fetchHits() {\r\n    const request = `/?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this.page}&per_page=12&key=${API_KEY}`;\r\n    const response = await fetch(BASE_URL + request);\r\n    const newResponse = await response.json();\r\n    return newResponse.hits;\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  }\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  }\r\n}\r\n","const refs = {\r\n  searchForm: document.querySelector('.search-form'),\r\n  galleryList: document.querySelector('.gallery'),\r\n  input: document.querySelector('.search-input'),\r\n  scroll: document.querySelector('#scroll'),\r\n  \r\n};\r\n\r\nexport default refs;","import { alert, defaultModules } from '@pnotify/core/dist/PNotify.js';\r\nimport * as PNotifyMobile from '@pnotify/mobile/dist/PNotifyMobile.js';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\ndefaultModules.set(PNotifyMobile, {});\r\n\r\nfunction showNotification() {\r\n  alert({\r\n    text: 'Enter the word',\r\n    delay: 2000,\r\n  });\r\n}\r\nexport default showNotification;\r\n","import './styles.css';\r\nimport ApiService from './js/apiService';\r\nimport imageList from './template/imgList.hbs';\r\nimport { onOpenModal } from './js/modal';\r\nimport refs from './js/refs';\r\nimport debounce from 'lodash.debounce';\r\nimport showNotification from './js/notification';\r\n\r\nconst hitsApiService = new ApiService();\r\n\r\nrefs.input.addEventListener('input', debounce(onSearch, 500));\r\nrefs.galleryList.addEventListener('click', onOpenModal);\r\n\r\nfunction onSearch(e) {\r\n  e.preventDefault();\r\n\r\n  hitsApiService.query = e.target.value.trim();\r\n\r\n  if (hitsApiService.query === '') {\r\n    showNotification();\r\n  }\r\n\r\n  hitsApiService.resetPage();\r\n  clearHits();\r\n\r\n  hitsApiService.fetchHits().then(hits => {\r\n    addHitsMarkup(hits);\r\n    hitsApiService.incrementPage();\r\n  });\r\n}\r\n\r\nfunction addHitsMarkup(data) {\r\n  refs.galleryList.insertAdjacentHTML('beforeend', imageList(data));\r\n}\r\n\r\nfunction clearHits() {\r\n  refs.galleryList.innerHTML = '';\r\n}\r\n\r\nfunction onEntry(entries) {\r\n  entries.forEach(entry => {\r\n    if (entry.isIntersecting && hitsApiService.query !== '') {\r\n      hitsApiService.fetchHits().then(addHitsMarkup);\r\n    }\r\n  });\r\n}\r\n\r\nconst observer = new IntersectionObserver(onEntry, {\r\n  rootMargin: '100px',\r\n});\r\n\r\nobserver.observe(refs.scroll);\r\n","import * as basicLightbox from 'basiclightbox';\r\nimport 'basiclightbox/dist/basicLightbox.min.css';\r\n\r\nfunction onOpenModal({ target: { dataset } }) {\r\n  basicLightbox\r\n    .create(`<img width=\"\" height=\"\" src=\"${dataset.source}\">`)\r\n    .show();\r\n}\r\nexport { onOpenModal };\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"photo-card\\\">\\r\\n    <img src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \"\\\" data-source=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0), depth0))\n    + \" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"tags\") : depth0), depth0))\n    + \"\\\" width=\\\"300\\\" />\\r\\n\\r\\n    <div class=\\\"stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n            \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">visibility</i>\\r\\n            \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">comment</i>\\r\\n            \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n            \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":24,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}